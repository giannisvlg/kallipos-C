
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../appendix1/">
      
      
        <link rel="next" href="../appendix3/">
      
      
      <link rel="icon" href="../src/images/frontcover.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Β. Μεταγλώττιση και εκτέλεση κώδικα C χρησιμοποιώντας το Docker - Μια σύγχρονη προσέγγιση στη γλώσσα C</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/styles.css">
    
      <link rel="stylesheet" href="../css/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: none; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#c-docker" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Μια σύγχρονη προσέγγιση στη γλώσσα C" class="md-header__button md-logo" aria-label="Μια σύγχρονη προσέγγιση στη γλώσσα C" data-md-component="logo">
      
  <img src="../src/images/frontcover.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Μια σύγχρονη προσέγγιση στη γλώσσα C
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Β. Μεταγλώττιση και εκτέλεση κώδικα C χρησιμοποιώντας το Docker
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Μια σύγχρονη προσέγγιση στη γλώσσα C" class="md-nav__button md-logo" aria-label="Μια σύγχρονη προσέγγιση στη γλώσσα C" data-md-component="logo">
      
  <img src="../src/images/frontcover.png" alt="logo">

    </a>
    Μια σύγχρονη προσέγγιση στη γλώσσα C
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Το βιβλίο
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1. Η πορεία της C μέχρι σήμερα
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2. Εισαγωγικές έννοιες στον προγραμματισμό με τη C
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3. Εντολές ελέγχου και επανάληψης
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4. Συναρτήσεις
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5. Πίνακες
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6. Δομές και ενώσεις
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7. Δείκτες
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8. Αλφαριθμητικά
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9. Διαχείριση μνήμης
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    10. Υλοποίηση δομών δεδομένων και αλγορίθμων στη C
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    11. Είσοδος/Έξοδος
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter12/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    12. Ο προεπεξεργαστής της C
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter13/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    13. Διαμέριση κώδικα
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter14/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    14. Ανάπτυξη οδηγούμενη από ελέγχους
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter15/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    15. Αποσφαλμάτωση
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter16/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    16. Στατική και δυναμική ανάλυση κώδικα
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter17/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    17. Βιβλιοθήκες
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter18/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    18. Θέματα στυλ στη C
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter19/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    19. Γραφικό περιβάλλον διεπαφής
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter20/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    20. Αλληλεπίδραση της C με την Python
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../appendix1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Α. Διαμόρφωση περιβάλλοντος ανάπτυξης κώδικα σε C
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Β. Μεταγλώττιση και εκτέλεση κώδικα C χρησιμοποιώντας το Docker
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Β. Μεταγλώττιση και εκτέλεση κώδικα C χρησιμοποιώντας το Docker
    
  </span>
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Πίνακας περιεχομένων">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Πίνακας περιεχομένων
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Β.1 Docker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Β.1 Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#b11-c-docker" class="md-nav__link">
    <span class="md-ellipsis">
      B.1.1 Ένα παράδειγμα μεταγλώττισης και εκτέλεσης κώδικα C με το Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b12-c" class="md-nav__link">
    <span class="md-ellipsis">
      B.1.2 Παράδειγμα με εγκατάσταση βιβλιοθήκης της C και προσάρτηση καταλόγου
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../appendix3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Γ. Λήψη πληροφοριών για το σύστημα και το μεταγλωττιστή
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Πίνακας περιεχομένων">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Πίνακας περιεχομένων
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-docker" class="md-nav__link">
    <span class="md-ellipsis">
      Β.1 Docker
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Β.1 Docker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#b11-c-docker" class="md-nav__link">
    <span class="md-ellipsis">
      B.1.1 Ένα παράδειγμα μεταγλώττισης και εκτέλεσης κώδικα C με το Docker
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#b12-c" class="md-nav__link">
    <span class="md-ellipsis">
      B.1.2 Παράδειγμα με εγκατάσταση βιβλιοθήκης της C και προσάρτηση καταλόγου
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="c-docker">Β. Μεταγλώττιση και εκτέλεση κώδικα C χρησιμοποιώντας το Docker</h1>
<h2 id="1-docker">Β.1 Docker</h2>
<p>Το Docker (<a href="https://www.docker.com/" target="_blank">https://www.docker.com/</a>) είναι μια πλατφόρμα ανοικτού κώδικα που επιτρέπει την αυτόματη διάθεση (deployment) και διαχείριση εφαρμογών χρησιμοποιώντας containers. Τα containers αποτελούν υπόβαθρα εκτέλεσης εφαρμογών με υψηλό βαθμό τυποποίησης. Με το Docker μπορούν να δημιουργηθούν containers που περιέχουν μια ή περισσότερες εφαρμογές και όλα τα απαιτούμενα λογισμικά, βιβλιοθήκες και αρχεία ρυθμίσεων που διασφαλίζουν την ορθή λειτουργία τους. Τα containers είναι φορητά και μπορούν να εκτελεστούν σε οποιοδήποτε σύστημα είναι εγκατεστημένο το Docker, ανεξάρτητα από αρχιτεκτονική υλικού και λειτουργικό σύστημα. Το Docker παρέχει συνεπή περιβάλλοντα εκτέλεσης εφαρμογών που διασφαλίζουν ότι θα συμπεριφέρονται, κάθε φορά, με τον ίδιο τρόπο κατά την ανάπτυξη μιας εφαρμογής, κατά τον έλεγχό της και κατά την εκτέλεσή της σε περιβάλλον παραγωγής (production). 
Ένας συνηθισμένος τρόπος αλληλεπίδρασης με το Docker είναι ο εξής: αρχικά δημιουργείται μια εικόνα (image) που περιγράφει ένα σύστημα (λειτουργικό σύστημα, λογισμικά που πρέπει να είναι εγκατεστημένα κ.λπ.) και μετά από το image μπορούν να δημιουργηθούν ένα ή περισσότερα containers που είναι σε θέση να εκτελούνται, να τίθενται σε παύση, να σταματούν ή να διαγράφονται. Στο Σχήμα Β.1 φαίνεται, για παράδειγμα, η δημιουργία ενός image με όνομα <span class="p-style">im‐dockerhub‐gcc</span> και στη συνέχεια η δημιουργία από το συγκεκριμένο image ενός ή περισσότερων containers, με ένα από αυτά να έχει το όνομα <span class="p-style">co‐dockerhub‐gcc</span>. Τα images περιγράφονται σε αρχεία κειμένου, τα λεγόμενα Dockerfiles. Στη συνέχεια θα παρουσιαστούν δύο παραδείγματα χρήσης του Docker για μεταγλώττιση και εκτέλεση προγραμμάτων που είναι γραμμένα με τη C.</p>
<p><a class="glightbox" href="../src/images/app2_docker.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="app2_docker.png" src="../src/images/app2_docker.png" width="800" /></a></p>
<div style="text-align: center;"><b> Σχήμα B.1: </b><i>Δημιουργία images και containers στο Docker.</i></div>

<h3 id="b11-c-docker">B.1.1 Ένα παράδειγμα μεταγλώττισης και εκτέλεσης κώδικα C με το Docker</h3>
<p>Το Docker μπορεί να χρησιμοποιηθεί ως περιβάλλον ανάπτυξης κώδικα σε C. Για να συμβεί αυτό αρχικά θα χρειαστεί να εγκατασταθεί το Docker (<a href="https://docs.docker.com/get-docker/" target="_blank">https://docs.docker.com/get-docker/</a>). Στη συνέχεια θα παρουσιαστεί ένα παράδειγμα προγράμματος C που θα μεταγλωττιστεί και θα εκτελεστεί σε ένα Docker container. Έστω η ιεραρχία καταλόγων και αρχείων που παρουσιάζεται στο Σχήμα Β.2, η οποία μπορεί να βρίσκεται μέσα σε έναν γονικό κατάλογο της επιλογής μας.</p>
<figure>
<a class="glightbox" href="../src/images/AppendixB_2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="AppendixB_2.png" src="../src/images/AppendixB_2.png" /></a>
</figure>
<div style="text-align: center;"><b> Σχήμα B.2: </b><i>Ιεραρχία καταλόγων και θέσεις αρχείων για το πρώτο παράδειγμα με το Docker.</i></div>

<p>Το αρχείο <span class="p-style">main.c</span> (κώδικας Β.1) περιέχει τον κώδικα που θα μεταγλωττιστεί και θα εκτελεστεί. Το πρόγραμμα κατά την εκτέλεσή του ζητά από τον χρήστη να εισάγει το όνομά του και εμφανίζει έναν χαιρετισμό και πληροφορίες έκδοσης του μεταγλωττιστή που χρησιμοποιείται.</p>
<div class="language-c highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Κώδικας Β.1: docker_example1/cprj/main.c - C κώδικας που θα εκτελεστεί μέσα σε ένα Docker container.</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="w">  </span><span class="kt">char</span><span class="w"> </span><span class="n">name</span><span class="p">[</span><span class="mi">50</span><span class="p">];</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5"></a><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Enter your name: &quot;</span><span class="p">);</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6"></a><span class="w">  </span><span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%49s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7"></a><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello %s! Here are some info for your system</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8"></a><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Macro __STDC__: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">__STDC__</span><span class="p">);</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9"></a><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Macro __STDC_VERSION__: %ld</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">__STDC_VERSION__</span><span class="p">);</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10"></a><span class="cp">#ifdef __GNUC__</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11"></a><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Macro __GNUC__: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">__GNUC__</span><span class="p">);</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12"></a><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Macro __GNUC_MINOR__: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">__GNUC_MINOR__</span><span class="p">);</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13"></a><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Macro __GNUC_PATCHLEVEL__: %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">__GNUC_PATCHLEVEL__</span><span class="p">);</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14"></a><span class="cp">#endif</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15"></a><span class="cp">#if __clang__</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16"></a><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Macro __clang_major__: %ld</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">__clang_major__</span><span class="p">);</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17"></a><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Macro __clang_minor__: %ld</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">__clang_minor__</span><span class="p">);</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18"></a><span class="w">  </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Macro __clang_patchlevel__: %ld</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">__clang_patchlevel__</span><span class="p">);</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="cp">#endif</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<p>Τα βήματα για τη μεταγλώττιση και εκτέλεση του C κώδικα στο Docker είναι τα ακόλουθα:</p>
<p><i>1. Συγγραφή του αρχείου Dockerfile</i> Το <span class="p-style">Dockerfile</span> είναι ένα αρχείο κειμένου που περιέχει οδηγίες δημιουργίας του Docker image. Οι βασικές οδηγίες αφορούν το base image που θα χρησιμοποιηθεί, οδηγίες εγκατάστασης εργαλείων και άλλων προαπαιτούμενων της εφαρμογής (π.χ. βιβλιοθηκών) και οδηγίες αντιγραφής αρχείων από τον τοπικό υπολογιστή στο image. Για το συγκεκριμένο παράδειγμα το <span class="p-style">Dockerfile</span> (κώδικας Β.2) είναι το ακόλουθο:</p>
<div class="language-docker highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Κώδικας Β.2: docker_example1/Dockerfile - το αρχείο Dockerfile του παραδείγματος.</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1">1</a></span>
<span class="normal"><a href="#__codelineno-1-2">2</a></span>
<span class="normal"><a href="#__codelineno-1-3">3</a></span>
<span class="normal"><a href="#__codelineno-1-4">4</a></span>
<span class="normal"><a href="#__codelineno-1-5">5</a></span>
<span class="normal"><a href="#__codelineno-1-6">6</a></span>
<span class="normal"><a href="#__codelineno-1-7">7</a></span>
<span class="normal"><a href="#__codelineno-1-8">8</a></span>
<span class="normal"><a href="#__codelineno-1-9">9</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="k">FROM</span><span class="w"> </span><span class="s">gcc:13.2.0</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="k">COPY</span><span class="w"> </span>./cprj<span class="w"> </span>/cprj
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4"></a>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/cprj</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="k">RUN</span><span class="w"> </span>gcc<span class="w"> </span>-o<span class="w"> </span>main<span class="w"> </span>main.c<span class="w"> </span>-Wall<span class="w"> </span>-Werror
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8"></a>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="k">CMD</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;./main&quot;</span><span class="p">]</span>
</span></code></pre></div></td></tr></table></div>
<p>Στη γραμμή 1 ορίζεται το base image που εδώ είναι το <span class="p-style">gcc:13.2.0</span>, δηλαδή το image που έχει αναπτυχθεί από το DockerHub για το gcc στην έκδοση 13.2.0. Εναλλακτικά, θα μπορούσε να χρησιμοποιηθεί το <span class="p-style">gcc:latest</span> που είναι το πλέον πρόσφατο image για το gcc (<a href="https://hub.docker.com/_/gcc" target="_blank">https://hub.docker.com/_/gcc</a>) ή ακόμα και κάποια ελαφριά (lightweight) διανομή Linux όπως η Alpine ή η Ubuntu και να γινόταν εγκατάσταση του GCC με εντολές τύπου <span class="p-style">RUN</span> στο <span class="p-style">Dockerfile</span>.<br />
Στη γραμμή 3 υπάρχει η εντολή αντιγραφής όλων των αρχείων που βρίσκονται στον τρέχοντα κατάλογο του τοπικού υπολογιστή στον κατάλογο <span class="p-style">cprj</span> που θα δημιουργείται στα containers που θα προκύπτουν από το image.<br />
Στη γραμμή 5 καθορίζεται ότι ο τρέχων κατάλογος στα containers που θα προκύπτουν από το image θα είναι o <span class="p-style">cprj</span>.<br />
Στη γραμμή 7 ορίζεται η εντολή μεταγλώττισης που θα δοθεί στο περιβάλλον του container. Η εντολή αυτή μεταγλωττίζει το αρχείο <span class="p-style">main.c</span> και παράγει το εκτελέσιμο με όνομα <span class="p-style">main</span>.<br />
Στη γραμμή 9 ορίζεται η εντολή που θα εκτελεστεί στο container που θα προκύψει από το image, κατά την εκκίνησή του.</p>
<p><i>2. Δημιουργία του Docker image</i> Από τη γραμμή εντολών, θέτοντας ως τρέχοντα κατάλογο τον κατάλογο <span class="p-style">docker_example1</span>, δίνεται η ακόλουθη εντολή που δημιουργεί το image:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>$ docker image build ‐t im‐dockerhub ‐gcc .
</span></code></pre></div>
<p>Η δημιουργία του image μπορεί να είναι σχετικά χρονοβόρα, αλλά πρόκειται για χρόνο που θα απαιτηθεί μόνο μια φορά. Στο συγκεκριμένο παράδειγμα, το όνομα του image είναι <span class="p-style">im‐dockerhub‐gcc</span> (καθορίζεται με τον διακόπτη <span class="p-style">‐t</span> που σημαίνει tag, δηλαδή ετικέτα) και ο τρέχων κατάλογος που συμβολίζεται με την τελεία είναι ο κατάλογος που θα αποτελέσει το build context (π.χ. εκεί βρίσκεται το <span class="p-style">Dockerfile</span>).  </p>
<p><i>3. Εκκίνηση ενός Docker container</i> Από τη στιγμή που έχει δημιουργηθεί το image, μπορεί να δημιουργηθεί από αυτό ένα container. Μπορούν να οριστούν επιλογές έτσι ώστε να προσαρτώνται (να γίνονται mount) κατάλογοι του τοπικού υπολογιστή στο container ή να γίνονται forward συγκεκριμένες θύρες (ports), αν το πρόγραμμα απαιτεί πρόσβαση στο δίκτυο. Για το παράδειγμα, η εκκίνηση του container γίνεται με την ακόλουθη εντολή και εμφανίζει τα αποτελέσματα που φαίνονται στη συνέχεια:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>$ docker container run ‐‐rm ‐it ‐‐name co‐dockerhub ‐gcc im‐dockerhub ‐gcc
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>Enter your name: Schmilblick
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>Hello Schmilblick! Here are some info for your system
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>Macro __STDC__: 1
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>Macro __STDC_VERSION__: 201710
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>Macro __GNUC__: 13
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>Macro __GNUC_MINOR__: 2
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>Macro __GNUC_PATCHLEVEL__: 0
</span></code></pre></div>
<p>Ο διακόπτης <span class="p-style">‐‐rm</span> σημαίνει ότι το container θα διαγραφεί κατά την έξοδο, και ο διακόπτης <span class="p-style">‐it</span> σημαίνει interactive terminal, δηλαδή ότι ο χρήστης θα έχει τη δυνατότητα να αλληλεπιδράσει με την εφαρμογή από το τερματικό (π.χ. να εισάγει τιμές).</p>
<h3 id="b12-c">B.1.2 Παράδειγμα με εγκατάσταση βιβλιοθήκης της C και προσάρτηση καταλόγου</h3>
<p>Στη συνέχεια θα παρουσιαστεί ένα δεύτερο παράδειγμα με το Docker για ανάπτυξη κώδικα σε C που αυτήν τη φορά θα εγκαθιστά τη βιβλιοθήκη GMP για πράξεις με μεγάλους αριθμούς. Επιπλέον, θα προσδένει έναν κατάλογο του τοπικού υπολογιστή ως κατάλογο του container, έτσι ώστε αλλαγές που θα γίνονται στο αρχείο C του τοπικού υπολογιστή να αντικατοπτρίζονται απευθείας στο αρχείο C στο container. Τέλος, κατά την εκκίνηση του container θα ξεκινά το Bash (ένα δημοφιλές περιβάλλον γραμμής εντολών για Linux συστήματα), έτσι ώστε να είναι δυνατή η μεταγλώττιση εκ νέου όταν θα προκύπτουν αλλαγές στον κώδικα C.<br />
Η ιεραρχία καταλόγων και οι θέσεις των αρχείων που χρησιμοποιούνται στο παράδειγμα παρουσιάζονται στο Σχήμα Β.3</p>
<figure>
<a class="glightbox" href="../src/images/AppendixB_3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="AppendixB_3.png" src="../src/images/AppendixB_3.png" /></a>
</figure>
<div style="text-align: center;"><b> Σχήμα B.3: </b><i>Ιεραρχία καταλόγων και θέσεις αρχείων για το δεύτερο παράδειγμα με το Docker.</i></div>

<p>Το αρχείο <span class="p-style">main.c</span> (κώδικας Β.3) χρησιμοποιεί τη βιβλιοθήκη GMP, που επιτρέπει πράξεις αριθμών με μεγάλο πλήθος ψηφίων. Ο κώδικας προσθέτει δύο ακέραιους αριθμούς με 30 ψηφία ο καθένας και εμφανίζει το αποτέλεσμα.  </p>
<div class="language-c highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Κώδικας Β.3: docker_example2/cprj/main.c - C κώδικας που χρησιμοποιεί τη βιβλιοθήκη GMP και θα εκτελεστεί μέσα σε ένα Docker container.</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-4-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-4-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-4-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-4-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-4-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-4-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-4-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-4-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-4-10">10</a></span>
<span class="normal"><a href="#__codelineno-4-11">11</a></span>
<span class="normal"><a href="#__codelineno-4-12">12</a></span>
<span class="normal"><a href="#__codelineno-4-13">13</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;gmp.h&gt;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5"></a><span class="w">    </span><span class="n">mpz_t</span><span class="w"> </span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6"></a><span class="w">    </span><span class="n">mpz_inits</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7"></a><span class="w">    </span><span class="n">mpz_set_str</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;123456789012345678901234567890&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8"></a><span class="w">    </span><span class="n">mpz_set_str</span><span class="p">(</span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;987654321098765432109876543210&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9"></a><span class="w">    </span><span class="n">mpz_add</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">);</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10"></a><span class="w">    </span><span class="n">gmp_printf</span><span class="p">(</span><span class="s">&quot;Result: %Zd</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">);</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11"></a><span class="w">    </span><span class="n">mpz_clears</span><span class="p">(</span><span class="n">num1</span><span class="p">,</span><span class="w"> </span><span class="n">num2</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13"></a><span class="p">}</span>
</span></code></pre></div></td></tr></table></div>
<p>Το <span class="p-style">Dockerfile</span> του παραδείγματος παρουσιάζεται στον κώδικα Β.4.</p>
<div class="language-text highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Κώδικας Β.4: docker_example2/Dockerfile - το αρχείο Dockerfile για το δεύτερο παράδειγμα.</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span>
<span class="normal"><a href="#__codelineno-5-15">15</a></span>
<span class="normal"><a href="#__codelineno-5-16">16</a></span>
<span class="normal"><a href="#__codelineno-5-17">17</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1"></a>CC=clang
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2"></a>CFLAGS=-Wall -Werror
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3"></a>LDLIBS=-lgmp
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4"></a>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5"></a>all:main
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7"></a>run: main
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8"></a>    ./main
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9"></a>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10"></a>main:main.o
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11"></a>    $(CC) main.o -o main $(LDLIBS)
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12"></a>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13"></a>main.o:main.c
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14"></a>    $(CC) -c main.c $(CFLAGS) 
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15"></a>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16"></a>clean:
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17"></a>    rm -f *.o main
</span></code></pre></div></td></tr></table></div>
<p>Στο <span class="p-style">Dockerfile</span> στη γραμμή 1 προσδιορίζεται ότι η διανομή που εγκαθίσταται είναι η τελευταία διαθέσιμη διανομή Ubuntu.<br />
Στις γραμμές 7-10 εγκαθίστανται το λογισμικό make, ο μεταγλωττιστής clang και η βιβλιοθήκη GMP.<br />
Τέλος, στη γραμμή 12 μεταγλωττίζεται ο κώδικας C και με τον διακόπτη <span class="p-style">‐l</span> καθορίζεται ότι θα χρησιμοποιηθεί κατά τη σύνδεση η βιβλιοθήκη GMP.  </p>
<p><i>Δημιουργία του Docker image</i> Η δημιουργία του image γίνεται με την ακόλουθη εντολή που θα πρέπει να δοθεί με τρέχοντα κατάλογο τον <span class="p-style">docker_example2</span>.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>$ docker image build ‐t im‐ubuntu‐clang .
</span></code></pre></div>
<p><i>Εκκίνηση ενός Docker container</i> Η εντολή δημιουργίας του container που ακολουθεί στη συνέχεια χρησιμοποιεί τον διακόπτη <span class="p-style">‐v</span> για να ορίσει ότι ο κατάλογος <span class="p-style">cprj</span> του container θα προσδεθεί στον κατάλογο <span class="p-style">cprj</span> του τοπικού υπολογιστή. Το τμήμα της τιμής που ακολουθεί τον διακόπτη <span class="p-style">‐v</span> πριν την <span class="p-style">:</span> είναι η διαδρομή προς τον κατάλογο στον τοπικό υπολογιστή, ενώ το τμήμα που ακολουθεί την <span class="p-style">:</span> είναι η διαδρομή του καταλόγου στο σύστημα αρχείων του container. Προσοχή πρέπει να δοθεί στο ότι ο τρέχων κατάλογος στον τοπικό υπολογιστή συμβολίζεται με <span class="p-style">%cd%</span> αν η εντολή δίνεται από παράθυρο γραμμής εντολής των Windows, ενώ αν χρησιμοποιείται το powershell, τότε συμβολίζεται με το <span class="p-style"><span class="arithmatex" pwd="pwd">\({PWD}&lt;/span&gt;. Στο Linux ο τρέχων κατάλογος συμβολίζεται με το &lt;span class="p-style"&gt;\)</span></span> και μπορεί να χρειάζεται να προηγηθεί μια διαδικασία ρύθμισης των διαμοιραζόμενων καταλόγων μέσα από τις προτιμήσεις (preferences) της εφαρμογής Docker (Preferences... -&gt; Resources -&gt; File Sharing). Παρατηρήστε ότι το τελευταίο όρισμα της εντολής είναι το <span class="p-style">bash</span> που σημαίνει ότι δίνεται η δυνατότητα για εκτέλεση εντολών (π.χ. εντολών μεταγλώττισης) από το τερματικό. Ακολουθεί, για ένα σύστημα Windows (host), ένα παράδειγμα εκκίνησης του container και εισόδου των εντολών μεταγλώττισης και εκτέλεσης μέσα από το περιβάλλον του container.}</span>, ενώ στο MacOS ο τρέχων κατάλογος συμβολίζεται με το <span class="p-style">${PWD</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>$ docker container run ‐‐rm ‐it ‐v %cd%/cprj:/cprj ‐‐name co‐ubuntu‐clang im‐ubuntu‐clang bash
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>root@0923dac10c96:/cprj# ls
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>main main.c makefile
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>root@0923dac10c96:/cprj# ./main
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>Result: 1111111110111111111011111111100
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>root@0923dac10c96:/cprj# rm main
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>root@0923dac10c96:/cprj# ls
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>main.c makefile
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>root@0923dac10c96:/cprj# clang ‐o main main.c ‐lgmp ‐Wall ‐Werror
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>root@0923dac10c96:/cprj# ./main
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>Result: 1111111110111111111011111111100
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a>root@0923dac10c96:/cprj# exit
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>exit
</span></code></pre></div>
<p>Η έξοδος και η διαγραφή του container γίνεται με την εντολή <span class="p-style">exit</span>. Αν δεν είχε χρησιμοποιηθεί ο διακόπτης <span class="p-style">‐‐rm</span> κατά την εκκίνηση του container, τότε το τερματικό μπορεί να αποσυνδεθεί προσωρινά από το container και στη συνέχεια να χρησιμοποιηθεί η εντολή <span class="p-style">docker exec</span> για επανασύνδεση. Ένα παράδειγμα εκτέλεσης των εντολών αυτών φαίνεται στη συνέχεια.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>$ docker container run ‐it ‐v %cd%/cprj:/cprj ‐‐name co‐ubuntu‐clang im‐ubuntu‐clang bash
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>root@01262dc80657:/cprj# ls
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>main main.c makefile
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>root@01262dc80657:/cprj# rm main &amp;&amp; clang ‐o main main.c ‐lgmp
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>root@01262dc80657:/cprj# ./main
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>Result: 1111111110111111111011111111100
</span></code></pre></div>
<p>Η αποσύνδεση του τερματικού από το container γίνεται πατώντας <span class="p-style">Ctrl+P</span> και <span class="p-style">Ctrl+Q</span>. Η εντολή που εμφανίζει τα ενεργά containers είναι η εντολή <span class="p-style">docker ps</span>. Ένα παράδειγμα εκτέλεσής της δίνεται στη συνέχεια:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>$ docker ps ‐‐all
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>CONTAINER ID    IMAGE               COMMAND     CREATED         STATUS          PORTS   NAMES
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>01262dc80657    im‐ubuntu‐clang     &quot;bash&quot;      44 seconds ago  Up 44 seconds           co‐ubuntu‐clang
</span></code></pre></div>
<p>Αυτήν τη φορά θα κάνουμε χρήση του makefile (κώδικας: Β.5), που υπάρχει στο παράδειγμα στον ίδιο κατάλογο με τον πηγαίο κώδικα.</p>
<div class="language-docker highlight"><table class="highlighttable"><tr><th colspan="2" class="filename"><span class="filename">Κώδικας Β.5: docker_example2/cprj/makefile - To αρχείο makefile για το δεύτερο παράδειγμα με το Docker.</span></th></tr><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-10-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-10-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-10-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-10-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-10-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-10-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-10-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-10-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-10-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-10-10">10</a></span>
<span class="normal"><a href="#__codelineno-10-11">11</a></span>
<span class="normal"><a href="#__codelineno-10-12">12</a></span></pre></div></td><td class="code"><div><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1"></a><span class="k">FROM</span><span class="w"> </span><span class="s">ubuntu:latest</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2"></a>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3"></a><span class="k">COPY</span><span class="w"> </span>./cprj<span class="w"> </span>/cprj
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4"></a>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5"></a><span class="k">WORKDIR</span><span class="w"> </span><span class="s">/cprj</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6"></a>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7"></a><span class="k">RUN</span><span class="w"> </span>apt-get<span class="w"> </span>update<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8"></a><span class="w">    </span>apt-get<span class="w"> </span>install<span class="w"> </span>make<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9"></a><span class="w">    </span>apt-get<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>clang<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="se">\</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10"></a><span class="w">    </span>apt-get<span class="w"> </span>-y<span class="w"> </span>install<span class="w"> </span>libgmp-dev
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11"></a>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12"></a><span class="k">RUN</span><span class="w"> </span>clang<span class="w"> </span>-o<span class="w"> </span>main<span class="w"> </span>main.c<span class="w"> </span>-lgmp<span class="w"> </span>-Wall<span class="w"> </span>-Werror
</span></code></pre></div></td></tr></table></div>
<p>Η εντολή docker exec επανασυνδέει το τερματικό με το container που εκτελείται. Ένα παράδειγμα εκτέλεσής της δίνεται στη συνέχεια:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>$ docker exec ‐‐rm ‐it co‐ubuntu‐clang bash
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a>root@01262dc80657:/cprj# make clean
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>rm ‐f *.o main
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>root@01262dc80657:/cprj# make run
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>clang ‐c main.c ‐Wall ‐Werror
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>clang main.o ‐o main ‐lgmp
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>./main
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>Result: 1111111110111111111011111111100
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>root@01262dc80657:/cprj# exit
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a>exit
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a>$ docker ps ‐‐all
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a>CONTAINER ID    IMAGE   COMMAND     CREATED     STATUS  PORTS   NAMES
</span></code></pre></div>
<p>Το Docker δίνει πολλές επιπλέον δυνατότητες και δεν είναι τυχαίο ότι χρησιμοποιείται σε ευρεία κλίμακα. Περισσότερες πληροφορίες για το Docker μπορούν να εντοπιστούν στα <sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>, <sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>, αλλά και σε πολλές άλλες πηγές στο διαδίκτυο.  </p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Prakhar Srivastav. <i>Docker for beginners.</i> <a href="https://docker-curriculum.com/" target="_blank">https://docker-curriculum.com/</a>. Accessed: 2023-06-01.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p><i>Docker docs - educational resources.</i> <a href="https://docs.docker.com/get-started/resources/" target="_blank">https://docs.docker.com/get-started/resources/</a>. Accessed: 2023-06-01.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Τζάλλας Αλέξανδρος, Γκόγκος Χρήστος, Τσούλος Ιωάννης &copy 2025

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "toc.follow", "navigation.instant.preview", "navigation.sections"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  <script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": false, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>